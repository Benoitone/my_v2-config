########################################################## \
############# MOONRAKER CONFIG FILE ###################### + --> To configure moonraker... :)
########################################################## /

# [include moonraker/base.conf] # Do not remove this line

[server]
host: 0.0.0.0
port: 7125
klippy_uds_address: {data_path}/comms/klippy.sock
max_upload_size: 1024

[machine]
provider: systemd_dbus

[data_store]
temperature_store_size: 1200
gcode_store_size: 1000

[authorization]
force_logins: False
cors_domains:
  *.local
  *.lan
  *://app.fluidd.xyz
  *://dev-app.fluidd.xyz
  *://my.mainsail.xyz
trusted_clients:
    10.0.0.0/8
    127.0.0.0/8
    169.254.0.0/16
    172.16.0.0/12
    192.168.0.0/16
    FE80::/10
    ::1/128

[history]

[octoprint_compat]

[update_manager]
enable_auto_refresh: True

# This file is yours! Feel free to edit it in order to include all the needed
# things to configure moonraker to your machine. Also, keep in mind that it
# will not be erased when updating the config and it will be kept as you've set it.

# The moonraker/base.conf file should contain a good and sane default configuration,
# however, feel free to override its sections and adapt the config to your needs.

# ------------------------------------------------------------------------------------------


##### Exclude object pre-processing -------------------------------
## This can be deactivated in case you use an offline processor in your slicer
[include moonraker/exclude_object.conf]
# -----------------------------------------------------------------

##### Fluidd update management ------------------------------------
# [include moonraker/fluidd.conf]
# -----------------------------------------------------------------

##### Mainsail update management ----------------------------------
# [include moonraker/mainsail.conf]
[update_manager client mainsail]
type: web
channel: beta
repo: mainsail-crew/mainsail
path: ~/mainsail
# -----------------------------------------------------------------

##### Auto Z calibration plugin update management -----------------
[include moonraker/z_calibration.conf]
# -----------------------------------------------------------------


##### Add your custom moonraker config customizations and overrides below this line...
# ------------------------------------------------------------------------------------

[update_manager Klippain]
type: git_repo
path: ~/klippain_config
# channel: beta
origin: https://github.com/Frix-x/klippain.git
#primary_branch: develop
primary_branch: new-ercf_HHv2
managed_services: moonraker klipper
install_script: install.sh



[update_manager KlipperScreen-happy_hare]
type: git_repo
path: /home/pi/KlipperScreen
origin: https://github.com/moggieuk/KlipperScreen-Happy-Hare-Edition.git
env: /home/pi/.KlipperScreen-env/bin/python
requirements: scripts/KlipperScreen-requirements.txt
install_script: scripts/KlipperScreen-install.sh
managed_services: KlipperScreen


[update_manager moonraker-telegram-bot]
type: git_repo
path: ~/moonraker-telegram-bot
origin: https://github.com/nlef/moonraker-telegram-bot.git
primary_branch: development
env: ~/moonraker-telegram-bot-env/bin/python
requirements: scripts/requirements.txt
install_script: scripts/install.sh


[mqtt]
address: 192.168.69.35		## Your MQTT server IP
port: 1883					## Your MQTT server port
username: {secrets.mqtt_credentials.username}
password: {secrets.mqtt_credentials.password}
mqtt_protocol: v3.1.1
enable_moonraker_api: True
instance_name: voron24
status_objects:
		webhooks
		print_stats
default_qos: 0


[power PSU24]
type: tasmota
address: 192.168.69.197
password:
output_id: 1
locked_while_printing: true
off_when_shutdown = false
restart_klipper_when_powered: true
restart_delay: 10


[update_manager client kiauh]
type: git_repo
path: ~/kiauh
origin: https://github.com/th33xitus/kiauh.git
is_system_service: False


[update_manager CanBoot]
type: git_repo
path: ~/CanBoot
origin: https://github.com/Arksine/CanBoot.git
is_system_service: False


[update_manager ProbeAccuracyTests]
type: git_repo
path: ~/probe_accuracy_tests
origin: https://github.com/sporkus/probe_accuracy_tests
is_system_service: False


[update_manager crowsnest]
type: git_repo
path: ~/crowsnest
origin: https://github.com/mainsail-crew/crowsnest.git
# primary_branch: legacy/v3
install_script: tools/pkglist.sh


[update_manager timelapse]
type: git_repo
primary_branch: main
path: ~/moonraker-timelapse
origin: https://github.com/mainsail-crew/moonraker-timelapse.git
managed_services: klipper moonraker


[wled case]
type: http
address: 192.168.69.81
initial_preset: 1
# initial_red: 1.0
# initial_green: 0
# initial_blue: 0
#initial_white:
chain_count: 300
#color_order: RGB


[update_manager happy-hare]
type: git_repo
path: ~/Happy-Hare
origin: https://github.com/moggieuk/Happy-Hare.git
install_script: install.sh
managed_services: klipper

